{
  "info": {
    "name": "Kiorex Healthcare API",
    "description": "Complete API collection for Kiorex Healthcare Platform microservices",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "authToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "appointmentId",
      "value": "",
      "type": "string"
    },
    {
      "key": "patientId",
      "value": "550e8400-e29b-41d4-a716-446655440003",
      "type": "string"
    },
    {
      "key": "providerId",
      "value": "550e8400-e29b-41d4-a716-446655440002",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Authentication Service",
      "item": [
        {
          "name": "User Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@healthcare.com\",\n  \"password\": \"Admin@123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login with admin credentials"
          },
          "response": []
        },
        {
          "name": "Doctor Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"doctor1@healthcare.com\",\n  \"password\": \"Doctor@123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login with doctor credentials"
          },
          "response": []
        },
        {
          "name": "Patient Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"patient1@healthcare.com\",\n  \"password\": \"Patient@123456\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login with patient credentials"
          },
          "response": []
        },
        {
          "name": "Register User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"newuser@healthcare.com\",\n  \"password\": \"NewUser@123456\",\n  \"role\": \"patient\",\n  \"phoneNumber\": \"+1234567890\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            },
            "description": "Register a new user"
          },
          "response": []
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{authToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "refresh"]
            },
            "description": "Refresh access token"
          },
          "response": []
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refreshToken\": \"{{authToken}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "logout"]
            },
            "description": "Logout user"
          },
          "response": []
        }
      ]
    },
    {
      "name": "User Service",
      "item": [
        {
          "name": "Get User Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["users", "profile"]
            },
            "description": "Get current user profile"
          },
          "response": []
        },
        {
          "name": "Update User Profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phoneNumber\": \"+1234567890\",\n  \"dateOfBirth\": \"1990-01-01\",\n  \"address\": {\n    \"street\": \"123 Main St\",\n    \"city\": \"New York\",\n    \"state\": \"NY\",\n    \"zipCode\": \"10001\",\n    \"country\": \"USA\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["users", "profile"]
            },
            "description": "Update user profile"
          },
          "response": []
        },
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["users"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get all users (admin only)"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Appointment Service",
      "item": [
        {
          "name": "Create Appointment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientId\": \"{{patientId}}\",\n  \"providerId\": \"{{providerId}}\",\n  \"consultationType\": \"in_person\",\n  \"startTime\": \"2025-10-15T10:00:00Z\",\n  \"endTime\": \"2025-10-15T11:00:00Z\",\n  \"reasonForVisit\": \"Regular checkup\",\n  \"symptoms\": [\"headache\", \"fever\"],\n  \"chiefComplaint\": \"Persistent headache for 3 days\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/appointments",
              "host": ["{{baseUrl}}"],
              "path": ["appointments"]
            },
            "description": "Create a new appointment"
          },
          "response": []
        },
        {
          "name": "Get Appointments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/appointments?patientId={{patientId}}&page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["appointments"],
              "query": [
                {
                  "key": "patientId",
                  "value": "{{patientId}}"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get appointments for a patient"
          },
          "response": []
        },
        {
          "name": "Get Appointment by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/appointments/{{appointmentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["appointments", "{{appointmentId}}"]
            },
            "description": "Get specific appointment details"
          },
          "response": []
        },
        {
          "name": "Update Appointment",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"startTime\": \"2025-10-15T14:00:00Z\",\n  \"endTime\": \"2025-10-15T15:00:00Z\",\n  \"reasonForVisit\": \"Updated appointment time\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/appointments/{{appointmentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["appointments", "{{appointmentId}}"]
            },
            "description": "Update appointment details"
          },
          "response": []
        },
        {
          "name": "Cancel Appointment",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cancellationReason\": \"Patient requested cancellation\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/appointments/{{appointmentId}}",
              "host": ["{{baseUrl}}"],
              "path": ["appointments", "{{appointmentId}}"]
            },
            "description": "Cancel an appointment"
          },
          "response": []
        },
        {
          "name": "Get Available Slots",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/appointments/slots?providerId={{providerId}}&date=2025-10-15",
              "host": ["{{baseUrl}}"],
              "path": ["appointments", "slots"],
              "query": [
                {
                  "key": "providerId",
                  "value": "{{providerId}}"
                },
                {
                  "key": "date",
                  "value": "2025-10-15"
                }
              ]
            },
            "description": "Get available appointment slots"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Clinical Service",
      "item": [
        {
          "name": "Create Medical Record",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientId\": \"{{patientId}}\",\n  \"providerId\": \"{{providerId}}\",\n  \"appointmentId\": \"{{appointmentId}}\",\n  \"chiefComplaint\": \"Chest pain and shortness of breath\",\n  \"historyOfPresentIllness\": \"Patient reports chest pain that started 2 hours ago\",\n  \"physicalExamination\": \"Blood pressure: 140/90, Heart rate: 95 bpm\",\n  \"assessment\": \"Possible cardiac event\",\n  \"plan\": \"Order EKG and blood tests\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/clinical/medical-records",
              "host": ["{{baseUrl}}"],
              "path": ["clinical", "medical-records"]
            },
            "description": "Create a new medical record"
          },
          "response": []
        },
        {
          "name": "Get Medical Records",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/clinical/medical-records?patientId={{patientId}}&page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["clinical", "medical-records"],
              "query": [
                {
                  "key": "patientId",
                  "value": "{{patientId}}"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get medical records for a patient"
          },
          "response": []
        },
        {
          "name": "Create Prescription",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientId\": \"{{patientId}}\",\n  \"providerId\": \"{{providerId}}\",\n  \"medicationName\": \"Lisinopril\",\n  \"dosage\": \"10mg\",\n  \"frequency\": \"Once daily\",\n  \"duration\": \"30 days\",\n  \"instructions\": \"Take with food in the morning\",\n  \"quantity\": 30\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/clinical/prescriptions",
              "host": ["{{baseUrl}}"],
              "path": ["clinical", "prescriptions"]
            },
            "description": "Create a new prescription"
          },
          "response": []
        },
        {
          "name": "Get Prescriptions",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/clinical/prescriptions?patientId={{patientId}}&page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["clinical", "prescriptions"],
              "query": [
                {
                  "key": "patientId",
                  "value": "{{patientId}}"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get prescriptions for a patient"
          },
          "response": []
        },
        {
          "name": "Record Vitals",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientId\": \"{{patientId}}\",\n  \"providerId\": \"{{providerId}}\",\n  \"bloodPressure\": \"120/80\",\n  \"heartRate\": 72,\n  \"temperature\": 98.6,\n  \"respiratoryRate\": 16,\n  \"oxygenSaturation\": 98,\n  \"weight\": 70.5,\n  \"height\": 175,\n  \"bmi\": 23.0\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/clinical/vitals",
              "host": ["{{baseUrl}}"],
              "path": ["clinical", "vitals"]
            },
            "description": "Record patient vitals"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Notification Service",
      "item": [
        {
          "name": "Send Email Notification",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": \"patient@healthcare.com\",\n  \"subject\": \"Appointment Reminder\",\n  \"template\": \"appointment_reminder\",\n  \"data\": {\n    \"patientName\": \"John Doe\",\n    \"appointmentDate\": \"2025-10-15\",\n    \"appointmentTime\": \"10:00 AM\",\n    \"providerName\": \"Dr. Smith\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/notifications/email",
              "host": ["{{baseUrl}}"],
              "path": ["notifications", "email"]
            },
            "description": "Send email notification"
          },
          "response": []
        },
        {
          "name": "Send SMS Notification",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"to\": \"+1234567890\",\n  \"message\": \"Your appointment is scheduled for tomorrow at 10:00 AM\",\n  \"template\": \"sms_reminder\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/notifications/sms",
              "host": ["{{baseUrl}}"],
              "path": ["notifications", "sms"]
            },
            "description": "Send SMS notification"
          },
          "response": []
        },
        {
          "name": "Get Notifications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/notifications?userId={{userId}}&page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["notifications"],
              "query": [
                {
                  "key": "userId",
                  "value": "{{userId}}"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Get user notifications"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Search Service",
      "item": [
        {
          "name": "Search Patients",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/search/patients?q=John&page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["search", "patients"],
              "query": [
                {
                  "key": "q",
                  "value": "John"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Search for patients"
          },
          "response": []
        },
        {
          "name": "Search Medical Records",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/search/medical-records?q=chest pain&patientId={{patientId}}&page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["search", "medical-records"],
              "query": [
                {
                  "key": "q",
                  "value": "chest pain"
                },
                {
                  "key": "patientId",
                  "value": "{{patientId}}"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            },
            "description": "Search medical records"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Video Service",
      "item": [
        {
          "name": "Create Video Room",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"appointmentId\": \"{{appointmentId}}\",\n  \"patientId\": \"{{patientId}}\",\n  \"providerId\": \"{{providerId}}\",\n  \"roomName\": \"Consultation Room 1\",\n  \"duration\": 60\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/video/rooms",
              "host": ["{{baseUrl}}"],
              "path": ["video", "rooms"]
            },
            "description": "Create a video consultation room"
          },
          "response": []
        },
        {
          "name": "Join Video Room",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"roomId\": \"room_123\",\n  \"userId\": \"{{userId}}\",\n  \"userType\": \"patient\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/video/rooms/join",
              "host": ["{{baseUrl}}"],
              "path": ["video", "rooms", "join"]
            },
            "description": "Join a video room"
          },
          "response": []
        },
        {
          "name": "Get Video Room",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/video/rooms/room_123",
              "host": ["{{baseUrl}}"],
              "path": ["video", "rooms", "room_123"]
            },
            "description": "Get video room details"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Analytics Service",
      "item": [
        {
          "name": "Get Dashboard Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/analytics/dashboard?period=30d",
              "host": ["{{baseUrl}}"],
              "path": ["analytics", "dashboard"],
              "query": [
                {
                  "key": "period",
                  "value": "30d"
                }
              ]
            },
            "description": "Get dashboard analytics"
          },
          "response": []
        },
        {
          "name": "Get Appointment Analytics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/analytics/appointments?startDate=2025-10-01&endDate=2025-10-31",
              "host": ["{{baseUrl}}"],
              "path": ["analytics", "appointments"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2025-10-01"
                },
                {
                  "key": "endDate",
                  "value": "2025-10-31"
                }
              ]
            },
            "description": "Get appointment analytics"
          },
          "response": []
        },
        {
          "name": "Get Patient Analytics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{authToken}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/analytics/patients?period=7d",
              "host": ["{{baseUrl}}"],
              "path": ["analytics", "patients"],
              "query": [
                {
                  "key": "period",
                  "value": "7d"
                }
              ]
            },
            "description": "Get patient analytics"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Health Checks",
      "item": [
        {
          "name": "API Gateway Health",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            },
            "description": "Check API Gateway health"
          },
          "response": []
        },
        {
          "name": "Test Endpoint",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/test",
              "host": ["{{baseUrl}}"],
              "path": ["test"]
            },
            "description": "Test API Gateway connectivity"
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-extract token from login responses",
          "if (pm.response && pm.response.json() && pm.response.json().tokens) {",
          "    pm.collectionVariables.set('authToken', pm.response.json().tokens.accessToken);",
          "    pm.collectionVariables.set('userId', pm.response.json().user.id);",
          "}"
        ]
      }
    }
  ]
}
